var R=ye();function ye(){let[e,t,o,n]=["2-digit","numeric","long","short"],r={fixed:{MM:{month:o},M:{month:n},m:{month:t},mm:{month:e},yyyy:{year:t},yy:{year:e},WD:{weekday:o},wd:{weekday:n},d:{day:t},dd:{day:e},h:{hour:t},hh:{hour:e},mi:{minute:t},mmi:{minute:e},s:{second:t},ss:{second:e},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:l=>({timeZoneName:l.slice(4)}),hrc:l=>({hourCycle:`h${l.slice(4)}`}),ds:l=>({dateStyle:l.slice(3)}),ts:l=>({timeStyle:l.slice(3)}),tz:l=>({timeZone:l.slice(3)}),e:l=>({era:l.slice(2)}),l:l=>({locale:l.slice(2)})}},a={...r,retrieveDyn(l){let m=l?.slice(0,l.indexOf(":"));return r.dynamic[m]&&r.dynamic[m](l)},get re(){return new RegExp(`\\b(${Object.keys(r.fixed).join("|")})\\b`,"g")}},u=(l="dtf",m=0)=>{let i=` ${l.replace(/(?<=\{)(.+?)(?=})/g,d=>`[${m++}]`).replace(/[{}]/g,"").trim()} `,y=l.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return y},formatString(d){i=d},set formatStr(d){i=d},get formatStr(){return i},get units(){return i.match(a.re)||[]},finalize(d="",M="",v="",p=""){return i.replace(/~([\d+]?)/g,"$1").replace(/dtf/,d).replace(/era/,v).replace(/dp\b|~dp\b/,M).replace(/yn\b/,p).replace(/\[(\d+?)]/g,(w,ge)=>y[ge].trim()).trim()}}},s=l=>l.replace(/\s+/g,""),f=(...l)=>l?.reduce((m,i)=>({...m,...a.retrieveDyn(i)||a.fixed[i]}),a.fixed.dl),c=(l,m,i)=>{let y=f(...s(i).split(",")),d=Intl.DateTimeFormat(y.locale,y).format(l);return m.finalize(d)},D=(l,m,i,y)=>l.toLocaleString(m,{timeZone:i,month:y?n:o}),g=(l,m,i)=>{let y=f(...m.units.concat(s(i).split(",")).flat()),d={...a.fixed},M=(p,w)=>y[p]==="numeric"&&w.startsWith("0")?w.slice(1):w,v=Intl.DateTimeFormat(y.locale,y).formatToParts(l).reduce((p,w)=>w.type==="literal"&&/[ ,/-]/.test(w.value)?p:{...p,[w.type]:M(w.type,w.value)},{});return d.ms=y.fractionalSecondDigits?d.msp:d.ms,d.yyyy=v.relatedYear?d.ry:d.yyyy,m.formatStr=m.formatStr.replace(a.re,p=>/^(M|MM)$/.test(p)?D(l,y.locale,y.timeZone,/^M$/.test(p)):v[Object.keys(d[p]).shift()]||p),m.finalize(void 0,v.dayPeriod,v.era,v.yearName)};return(l,m,i="l:default")=>/ds:|ts:/.test(i)?c(l,u(void 0),i):g(l,u(m||void 0),i)}var B=De;function De(){let e=(n,r)=>{let a=isNaN(new Date(n)),u=isNaN(new Date(r));if(u){let[s,f,c]=Array(3).fill("end date not valid");return{error:!0,message:s,full:f,clean:c}}if(a){let[s,f,c]=Array(3).fill("start date not valid");return{error:!0,message:s,full:f,clean:c}}if(a&&!u){let[s,f,c]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:s,full:f,clean:c}}return{error:!1}},t=o();return function({start:r,end:a,diffs:u={}}={}){let s=e(r,a);if(s.error)return s;let f=r-a,c=f===0?"":f<0?"-":"+",D=Math.abs(r-a),g=new Date(D),l=g.getUTCFullYear()-1970,m=g.getUTCMonth(),i=g.getUTCDate()-1,y=g.getUTCHours(),d=g.getUTCMinutes(),M=g.getUTCSeconds(),v=g.getUTCMilliseconds(),p=Math.floor(D/1e3/60/1440);return u={...u,fromUTC:r,toUTC:a,sign:c,years:l,months:m,days:i,hours:y,minutes:d,seconds:M,milliseconds:v,diffInDays:p},u.full=t({values:u,full:!0}),u.clean=t({values:u}),u};function o(){let n=(...c)=>D=>c.reduce((g,l)=>l(g),D),r=(c,D)=>c===1?D.slice(0,-1):D;return n(({values:c,full:D})=>[Object.entries(c).filter(([g])=>/^(years|month|days|hours|minutes|seconds)/i.test(g)),D],([c,D])=>D?c:c.filter(([,g])=>D?+g:g>0),c=>c.reduce((D,[g,l])=>[...D,`${l} ${r(l,g)}`],[]),c=>c.length<1?"Dates are equal":`${c.slice(0,-1).join(", ")}${c.length>1?" and ":""}${c.slice(-1).shift()}`)}}var G=he;function he(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((o,[n,r])=>({...o,[n]:r,[`${n}s`]:r}),{}),t=function(...o){let n=o.length===1,r=o[0].trim().startsWith("subtract");return r&&(o=n?o[0].trim().replace(/^subtract./i,"").split(", ").map(a=>a.trim()):o.slice(1)),n&&!r&&(o=o[0].split(",").map(a=>a.trim())),o.map(function(a){return a?a.toLowerCase().split(/ /).map(u=>{u=`${u}`.trim();let s=parseInt(u,10);return s?r?-s:+s:u}):!1}).filter(a=>a)};return function(o,...n){if(n.length<1)return o;let r=t(...n);return r.length&&r.forEach(([a,u])=>{u=e[u],+a&&u&&o[`set${u}`](o[`get${u}`]()+ +a)}),o}}var X=B(),pe=Te(),h=G();function x(e,t){let o=e.clone();return h(o,t),o}function Z(e,{start:t,end:o,before:n,include:r={start:!1,end:!1}}={}){let a=e.clone().UTC;return t=T(t).UTC,!Number.isNaN(+t)&&!o?n?+a<+t:+a>+t:(o=T(o).UTC,(r.start?+a>=+t:+a>+t)&&(r.end?+a<=+o:+a<+o))}function ee(e,t,o){return e.localeInfo||(e.localeInfo=O()),o=o||e.localeInfo.formatOptions,R(new Date(e),t,o)}function te(e,t){let o=X({start:e,end:t||e});return o.sign==="-"?-o.diffInDays:o.diffInDays}function re(e){let{locale:t,timeZone:o,formats:n}=e.localeInfo,r=e.format("MM|WD",n).split("|");return{locale:t,timeZone:o,monthName:r[0],dayName:r[1],dayNames:k(e.locale),monthNames:z(e.locale)}}function P(e,t=!1){let[o,n,r,a]=C(e,t),s={values4Timezone:t?e.timeZone:b().timeZone,hours:o,minutes:n,seconds:r,milliseconds:a};return Object.freeze(s)}function C(e,t=!1){let n=`l:en-CA${t?`,tz:${e.timeZone}`:""},hrc:23`;return e.format("hh-mmi-ss",n).split(/-/).map(Number).concat(e.getMilliseconds())}function U(e,t){let[o,n,r]=F(e,t),a=t?e.timeZone:b().timeZone;return Object.freeze({values4Timezone:a,year:o,month:n,date:r})}function F(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let o=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return o[1]-=1,o}function oe(e,{sunday:t=!1,midnight:o=!1}={}){return $(e,{day:t?"sun":"mon",midnight:o,forFirstWeekday:!0})}function j({start:e,end:t}={}){return t?.isTT||(t=T(t,{timeZone:e.timeZone})),t||(t=e.clone()),e=T(Q(e,e.timeZone),{timeZone:e.timeZone}),t=T(Q(t,t.timeZone),{timeZone:t.timeZone}),X({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}})}function L(e,t){let o=e.clone();t instanceof Date&&!t?.isTT&&(t=T(o,{timeZone:"Etc/UTC"})),t||(t=o.clone().relocate({timeZone:"Etc/UTC"})),t=t.revalue(o.value);let n=j({start:o,end:t});return`${n.sign}${K(n.hours)}:${K(n.minutes)}`}function K(e,t=2){return`${e}`.padStart(t,"0")}function W(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let o=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return o[1]-=1,o}function ne(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function $(e,{day:t,next:o=!1,forFirstWeekday:n=!1}={}){let r=pe(t?.toLowerCase()),a=T(new Date(...e.dateValues),e.localeInfo);if(r<0)return a;let u=a.getDay();if(n&&u===r)return e;let s=o?1:-1;return f(u);function f(c){return c!==r?f(a.add(`${s} days`).getDay()):a}}function V(e){e.localeInfo||(e.localeInfo=O());let{locale:t,timeZone:o}=e.localeInfo;return new Date(e).toLocaleString(t,{timeZone:o})}function Q(e,t){let o={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",o))}function I(e,{year:t,month:o,date:n}={}){return N(t)&&e.setFullYear(t),N(n)&&e.setDate(n),N(o)&&e.setMonth(o-1),!0}function S(e,{hours:t,minutes:o,seconds:n,milliseconds:r}={}){switch(!0){case N(t):e.setHours(t);break;case N(o):e.setMinutes(o);break;case N(n):return e.setSeconds(n);case N(r):e.setMilliseconds(r);break;default:break}return!0}function ae(e,t){return t=t&&new Date(t)||e.value,T(t,e.localeInfo)}function Te(){let e={short:"sun,mon,tue,wed,thu,fri,sat".split(","),long:"sunday,monday,tuesday,wednesday,thursday,friday,saturday".split(",")};return function(t){if(!t)return-1;let o=e.short.indexOf(t);return o<0?e.long.indexOf(t):o}}function J(e){return+e.slice(e.indexOf("+")+1).replace(":","")||0}function ue(e){return e=e||T(),T(new Date(e.year,e.month,e.date.date))}function le(e){let t=e.timeZone,o=new Date(e.year,0,1,14),n=new Date(new Date(o).setMonth(6)),r=Intl.DateTimeFormat("en-CA",{year:"numeric",timeZone:t,timeZoneName:"shortOffset"}),[a,u]=[r.format(o),r.format(n)];return J(a)-J(u)!==0}function se(e){if(e.hasDST){let t=e.clone();return t.month=1,t.date=1,t.format("tz",`${t.localeInfo.formatOptions},tzn:shortOffset`)!==e.format("tz",`${e.localeInfo.formatOptions},tzn:shortOffset`)}return!1}function ce(e,{locale:t,timeZone:o}={}){return e.localeInfo=b({locale:t||e.locale,timeZone:o||e.timeZone}),e}function ie(e,t){return t?.constructor!==Date?e:T(t,t.localeInfo||e.localeInfo)}function N(e){return!(Number.isNaN(parseInt(e))&&Number.isNaN(+e))}function Y(e,t){let o=_(new Date(e,11,t));return o===1?Y(e,t-1):o}function E(e,t){let o=e.month;switch(!0){case o<3:return t?1:"First";case o<6:return t?2:"Second";case o<9:return t?3:"Third";case o<12:return t?4:"Fourth"}}function _(e){let t=new Date(e),o=(t.getDay()+6)%7;t.setDate(t.getDate()-o+3);let n=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((n-t)/6048e5)}function fe(e,t="ymd"){if(e=e?.trim(),!e)return new Date;let o=e?.split(/[T :\-\/.,]/g).filter(a=>!!a.trim()),n=()=>{let a=[...t].reduce((y,d,M)=>(y[d]=M,y),{}),u=o.slice(0,3),s=o.slice(3);/PM/.test(s.slice(-1))&&(s[0]=+s[0]+12);let[f,c,D,g,l,m,i]=[+u[a.y],+u[a.m]-1,+u[a.d]].concat([...Array(4)].map((y,d)=>+s[d]||0));return f<1900?new Date(new Date(f,c,D,g,l,m,i).setFullYear(f)):new Date(f,c,D,g,l,m,i)},r={get cando(){return n()},get cannot(){if(!e||o?.length<3)return console.error(`DateTools::parse: can't convert "${e||"empty date string"}" to ES-Date. Result will be current Date`),!0}};return r.cannot?new Date:r.cando}function we(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(o=>o).join(",")}function k(e="en-GB"){return e=b({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function z(e="en-GB"){return e=b({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function b({locale:e,timeZone:t,logError:o=!0}={}){let n=r=>console.error(`invalid locale (time zone: "${r.timeZone}", locale: "${r.locale}"), associated your locale instead`);try{return Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions()}catch{return o&&n({locale:e,timeZone:t}),Intl.DateTimeFormat().resolvedOptions()}}function O({locale:e,timeZone:t}={}){let o=b({locale:e,timeZone:t},!0);return Object.freeze({...o,formatOptions:we(o.locale,o.timeZone)})}function q(e){return!Number.isNaN(+e)&&e||new Date}function me(e){let t=new Date;switch(!0){case e?.constructor===String:return q(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return q(new Date(...e));case e?.constructor===Date:return q(e);default:return t}}function H(e,t){let o={addYears(n=1){let r=e.clone();return h(r,`${n} years`)},addMonths(n=1){let r=e.clone();return h(r,`${n} months`)},addWeeks(n=1){let r=e.clone();return h(r,`${n*7} days`)},addDays(n=1){let r=e.clone();return h(r,`${n} days`)},get nextYear(){let n=e.clone();return h(n,"1 year")},get nextWeek(){let n=e.clone();return h(n,"7 days")},get previousWeek(){let n=e.clone();return h(n,"-7 days")},get previousYear(){let n=e.clone();return h(n,"-1 year")},get nextMonth(){let n=e.clone();return h(n,"1 month")},get previousMonth(){let n=e.clone();return h(n,"-1 month")},get tomorrow(){let n=e.clone();return h(n,"1 day")},get yesterday(){let n=e.clone();return h(n,"-1 day")}};return Object.keys(t||{}).length>0&&Object.entries(t).forEach(([n,r])=>Object.defineProperty(o,n,{value(...a){return r.method(e,...a)},enumerable:r.enumerable})),o}var A=be;function be({instance:e,localeFormats:t,localeInfo:o}={}){let n={format(r,a){return ee(e,r,a)},daysUntil(r){return te(e,r)},revalue(r){return e=ie(e,r),e},firstWeekday({sunday:r=!1,midnight:a=!1}={}){return oe(e,{sunday:r,midnight:a})},next(r){return $(e,{day:r,next:!0})},previous(r){return $(e,{day:r})},add(...r){return x(e,...r)},subtract(...r){return x(e,...["subtract"].concat(r))},clone(r){return ae(e,r)},differenceTo(r){return j({start:e,end:r})},relocate({locale:r,timeZone:a}={}){return ce(e,{locale:r,timeZone:a})},offsetFrom(r){return L(e,r)},between({start:r,end:a,include:u}={}){return Z(e,{start:r,end:a,include:u})},isPast(r){return Z(e,{start:r,before:!0})},isFuture(r){return Z(e,{start:r,before:!1})},set localeInfo({locale:r,timeZone:a}){o=O({locale:r,timeZone:a,validate:!0})},set year(r){return I(e,{year:r})},set month(r){return I(e,{month:r})},set hours(r){return S(e,{hours:r})},set minutes(r){return S(e,{minutes:r})},set seconds(r){return S(e,{seconds:r})},set milliseconds(r){return S(e,{milliseconds:`${r}`})},set time({hours:r,minutes:a,seconds:u,milliseconds:s}={}){return S(e,{hours:r,minutes:a,seconds:u,milliseconds:s})},set date({year:r,month:a,date:u}={}){return I(e,{year:r,month:a,date:u})},get age(){return e.differenceTo(new Date).years},get ageParts(){return e.differenceTo(new Date).full},get localeString(){return V(e)},get local(){return V(e)},get ISO(){return e.toISOString()},get isLeapYear(){return new Date(e.getFullYear(),2,0).getDate()===29},get names(){return re(e)},get daysThisMonth(){return ne(e)},get localeInfo(){return o},get timeZone(){return(o||O()).timeZone},get locale(){return(o||O()).locale},get formatStr(){return t},get year(){return e.getFullYear()},get month(){return e.date.month},get dateSingle(){return e.date.date},get hours(){return e.time.hours},get minutes(){return e.time.minutes},get seconds(){return e.time.seconds},get milliseconds(){return e.getMilliseconds()},get removeTime(){return ue(e)},get time(){return P(e)},get zoneTime(){return P(e,!0)},get timeValues(){return C(e)},get zoneTimeValues(){return C(e,!0)},get dateValues(){return F(e,!1)},get zoneDateValues(){return F(e,!0)},get dateTimeValues(){return W(e,!0)},get zoneDateTimeValues(){return W(e,!1)},get date(){return U(e)},get zoneDate(){return U(e,!0)},get dateTime(){return Object.freeze({...e.date,...e.time})},get UTC(){return e.clone().relocate({locale:e.locale,timeZone:"Etc/UTC"})},get UTCOffset(){return L(e)},get day(){return e.getDay()},get dayName(){return e.names.dayName},get weeknr(){return _(e)},get weeksInYear(){return Y(e.year,31)},get weekDay(){return e.names.dayName},get monthName(){return e.names.monthName},get quarter(){return E(e)},get quarterNr(){return E(e,!0)},get hasDST(){return le(e)},get DSTActive(){return se(e)},get value(){return new Date(e)},get isTT(){return!0}};return Object.defineProperties(n,{proxy:{value(r,a){return e=new Proxy(r,a),e},enumerable:!1},addAggregates:{value(r,a){Object.entries(Object.getOwnPropertyDescriptors(a)).forEach(([u,s])=>Object.defineProperty(n,u,s))},enumerable:!1}}),n}Symbol.esdProxy=Symbol.for("esdProxy");function de(e){return{get(t,o){if(o in t&&t[o]?.constructor===Function)return(...n)=>t[o](...n);if(o in t)return t[o];if(o in e)return e[o]},set(t,o,n){return typeof o!="symbol"&&o in e?(e[o]=n,!0):Reflect.set(...arguments)},has:(t,o)=>o in e||o in t}}var T=ve();function ve(){let e={};return o(t);function t(n,r){let a=n?.locale||n?.timeZone?new Date:me(n),u=A();u.localeInfo=n?.locale||n?.timeZone?b(n):b(r);let s=u.proxy(new Date(a),de(u)),f=H(s,e);return s.addAggregates(s,f),Object.freeze(s)}function o(n){return Object.defineProperties(n,{now:{get(){return n(new Date)}},parse:{value(r,a="ymd"){return n(fe(r,a))}},localWeekdayNames:{value(r){return k(r)}},localMonthNames:{value(r){return z(r)}},daysInMonth:{value(r){return r>=1&&r<=12?new Date(1970,r,0).getDate():`${r} not between 1 and 12`}},addMethod:{value(r,a,u=!1){e[r]={method:a,enumerable:u}}},keys:{get(){return[...Object.keys(A()),...Object.keys(H())].sort((a,u)=>a.localeCompare(u))}}}),n}}export{T as default};
