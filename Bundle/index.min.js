var G=Te();function Te(){let[e,t,o,n]=["2-digit","numeric","long","short"],r={fixed:{MM:{month:o},M:{month:n},m:{month:t},mm:{month:e},yyyy:{year:t},yy:{year:e},WD:{weekday:o},wd:{weekday:n},d:{day:t},dd:{day:e},h:{hour:t},hh:{hour:e},mi:{minute:t},mmi:{minute:e},s:{second:t},ss:{second:e},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:u=>({timeZoneName:u.slice(4)}),hrc:u=>({hourCycle:`h${u.slice(4)}`}),ds:u=>({dateStyle:u.slice(3)}),ts:u=>({timeStyle:u.slice(3)}),tz:u=>({timeZone:u.slice(3)}),e:u=>({era:u.slice(2)}),l:u=>({locale:u.slice(2)})}},a={...r,retrieveDyn(u){let f=u?.slice(0,u.indexOf(":"));return r.dynamic[f]&&r.dynamic[f](u)},get re(){return new RegExp(`\\b(${Object.keys(r.fixed).join("|")})\\b`,"g")}},l=(u="dtf",f=0)=>{let i=` ${u.replace(/(?<=\{)(.+?)(?=})/g,d=>`[${f++}]`).replace(/[{}]/g,"").trim()} `,y=u.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return y},formatString(d){i=d},set formatStr(d){i=d},get formatStr(){return i},get units(){return i.match(a.re)||[]},finalize(d="",Z="",w="",p=""){return i.replace(/~([\d+]?)/g,"$1").replace(/dtf/,d).replace(/era/,w).replace(/dp\b|~dp\b/,Z).replace(/yn\b/,p).replace(/\[(\d+?)]/g,(S,pe)=>y[pe].trim()).trim()}}},s=u=>u.replace(/\s+/g,""),m=(...u)=>u?.reduce((f,i)=>({...f,...a.retrieveDyn(i)||a.fixed[i]}),a.fixed.dl),c=(u,f,i)=>{let y=m(...s(i).split(",")),d=Intl.DateTimeFormat(y.locale,y).format(u);return f.finalize(d)},h=(u,f,i,y)=>u.toLocaleString(f,{timeZone:i,month:y?n:o}),g=(u,f,i)=>{let y=m(...f.units.concat(s(i).split(",")).flat()),d={...a.fixed},Z=(p,S)=>y[p]==="numeric"&&S.startsWith("0")?S.slice(1):S,w=Intl.DateTimeFormat(y.locale,y).formatToParts(u).reduce((p,S)=>S.type==="literal"&&/[ ,/-]/.test(S.value)?p:{...p,[S.type]:Z(S.type,S.value)},{});return d.ms=y.fractionalSecondDigits?d.msp:d.ms,d.yyyy=w.relatedYear?d.ry:d.yyyy,f.formatStr=f.formatStr.replace(a.re,p=>/^(M|MM)$/.test(p)?h(u,y.locale,y.timeZone,/^M$/.test(p)):w[Object.keys(d[p]).shift()]||p),f.finalize(void 0,w.dayPeriod,w.era,w.yearName)};return(u,f,i="l:default")=>/ds:|ts:/.test(i)?c(u,l(void 0),i):g(u,l(f||void 0),i)}var J=be;function be(){let e=(n,r)=>{let a=isNaN(new Date(n)),l=isNaN(new Date(r));if(l){let[s,m,c]=Array(3).fill("end date not valid");return{error:!0,message:s,full:m,clean:c}}if(a){let[s,m,c]=Array(3).fill("start date not valid");return{error:!0,message:s,full:m,clean:c}}if(a&&!l){let[s,m,c]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:s,full:m,clean:c}}return{error:!1}},t=o();return function({start:r,end:a,diffs:l={}}={}){let s=e(r,a);if(s.error)return s;let m=r-a,c=m===0?"":m<0?"-":"+",h=Math.abs(r-a),g=new Date(h),u=g.getUTCFullYear()-1970,f=g.getUTCMonth(),i=g.getUTCDate()-1,y=g.getUTCHours(),d=g.getUTCMinutes(),Z=g.getUTCSeconds(),w=g.getUTCMilliseconds(),p=Math.floor(h/1e3/60/1440);return l={...l,fromUTC:r,toUTC:a,sign:c,years:u,months:f,days:i,hours:y,minutes:d,seconds:Z,milliseconds:w,diffInDays:p},l.full=t({values:l,full:!0}),l.clean=t({values:l}),l};function o(){let n=(...c)=>h=>c.reduce((g,u)=>u(g),h),r=(c,h)=>c===1?h.slice(0,-1):h;return n(({values:c,full:h})=>[Object.entries(c).filter(([g])=>/^(years|month|days|hours|minutes|seconds)/i.test(g)),h],([c,h])=>h?c:c.filter(([,g])=>h?+g:g>0),c=>c.reduce((h,[g,u])=>[...h,`${u} ${r(u,g)}`],[]),c=>c.length<1?"Dates are equal":`${c.slice(0,-1).join(", ")}${c.length>1?" and ":""}${c.slice(-1).shift()}`)}}var B=Se;function Se(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((o,[n,r])=>({...o,[n]:r,[`${n}s`]:r}),{}),t=function(...o){let n=o.length===1,r=o[0].trim().startsWith("subtract");return r&&(o=n?o[0].trim().replace(/^subtract./i,"").split(", ").map(a=>a.trim()):o.slice(1)),n&&!r&&(o=o[0].split(",").map(a=>a.trim())),o.map(function(a){return a?a.toLowerCase().split(/ /).map(l=>{l=`${l}`.trim();let s=parseInt(l,10);return s?r?-s:+s:l}):!1}).filter(a=>a)};return function(o,...n){if(n.length<1)return o;let r=t(...n);return r.length&&r.forEach(([a,l])=>{l=e[l],+a&&l&&o[`set${l}`](o[`get${l}`]()+ +a)}),o}}var te=J(),we=Ze(),D=B();function P(e,t){let o=e.clone();return D(o,t),o}function v(e,{start:t,end:o,before:n,include:r={start:!1,end:!1}}={}){let a=e.clone().UTC;return t=b(t).UTC,!Number.isNaN(+t)&&!o?n?+a<+t:+a>+t:(o=b(o).UTC,(r.start?+a>=+t:+a>+t)&&(r.end?+a<=+o:+a<+o))}function re(e,t,o){return e.localeInfo||(e.localeInfo=$()),o=o||e.localeInfo.formatOptions,G(new Date(e),t,o)}function oe(e,t){let o=te({start:e,end:t||e});return o.sign==="-"?-o.diffInDays:o.diffInDays}function ne(e){let{locale:t,timeZone:o,formats:n}=e.localeInfo,r=e.format("MM|WD",n).split("|");return{locale:t,timeZone:o,monthName:r[0],dayName:r[1],dayNames:z(e.locale),monthNames:F(e.locale)}}function U(e,t=!1){let[o,n,r,a]=O(e,t),s={values4Timezone:t?e.timeZone:T().timeZone,hours:o,minutes:n,seconds:r,milliseconds:a};return Object.freeze(s)}function O(e,t=!1){let n=`l:en-CA${t?`,tz:${e.timeZone}`:""},hrc:23`;return e.format("hh-mmi-ss",n).split(/-/).map(Number).concat(e.getMilliseconds())}function x(e,t){let o=t?`tz:${T().timeZone}`:`,tz:${e.timeZone}`,[n,r,a]=e.format("yyyy-mm-dd",o).split(/-/).map(Number);r-=1;let l=t?e.timeZone:T().timeZone;return Object.freeze({values4Timezone:l,year:n,month:r,date:a})}function L(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let o=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return o[1]-=1,o}function ae(e,{sunday:t=!1,midnight:o=!1}={}){return I(e,{day:t?"sun":"mon",midnight:o,forFirstWeekday:!0})}function j({start:e,end:t}={}){return t?.clone||(t=b(t,{timeZone:e.timeZone})),t||(t=e.clone()),e=b(X(e,e.timeZone),{timeZone:e.timeZone}),t=b(X(t,t.timeZone),{timeZone:t.timeZone}),te({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}})}function W(e,t){let o=e.clone();t instanceof Date&&!t?.clone&&(t=b(o,{timeZone:"Etc/UTC"})),t||(t=o.clone().relocate({timeZone:"Etc/UTC"})),t=t.revalue(o.value);let n=j({start:o,end:t});return{from:o.timeZone,to:t.timeZone,offset:`${n.sign}${K(n.hours)}:${K(n.minutes)}`}}function K(e,t=2){return`${e}`.padStart(t,"0")}function k(e,t){return`${t}${e>1?"s":""}`}function Q(e){if(/00:00/.test(e))return"no time diffence";let t=e.slice(1).split(":").map(Number),[o,n]=t,r=e.at(0)==="+";return n>0?`${o} ${k(o,"hour")} and ${n} ${k(n,"minute")} ${r?"ahead of":"behind"}`:`${o} ${k(o,"hour")} ${r?"ahead of":"behind"}`}function le(e){let t=e.clone().relocate({locale:"en-CA"}),n=`wd M d yyyy hh:mmi:ss ${t.format("tz",t.localeInfo.formatOptions+",tzn:longOffset").replace(":","")} (tz)`;return t.format(n,t.localeInfo.formatOptions+",tzn:long,hrc:23")}function ue(e){let t=e.clone().relocate({locale:e.userLocaleInfo.locale,timeZone:e.userLocaleInfo.timeZone}),o=e.offsetFrom(t).offset,n=e.userLocaleInfo,r=e.localeInfo,a=e.format("hh:mmi:ss dp",`hrc:12,tz:${e.timeZone}`),l=t.format("hh:mmi:ss dp",`hrc:12,tz:${t.timeZone}`);return{note:"'user' are values for your locale/timeZone, 'remote' idem for the instance",locales:{user:{locale:n.locale,timeZone:n.timeZone},remote:{locale:r.locale,timeZone:r.timeZone}},dateTime:{user:{...e.dateTime,monthName:t.monthName,dayName:t.dayName,dayPeriodTime:l,hasDST:t.hasDST,DSTActive:t.DSTActive,string:t.toString()},remote:{...e.zoneDateTime,monthName:e.monthName,dayName:e.dayName,dayPeriodTime:a,hasDST:e.hasDST,DSTActive:e.DSTActive,string:e.toString()}},offset:{fromUserTime:`${e.timeZone} `+Q(o)+` ${t.timeZone}`,fromUTC:`${e.timeZone} `+Q(e.UTCOffset.offset)+" GMT"}}}function V(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let o=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return o[1]-=1,o}function se(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function I(e,{day:t,next:o=!1,forFirstWeekday:n=!1}={}){let r=we(t?.toLowerCase()),a=b(new Date(...e.dateValues),e.localeInfo);if(r<0)return a;let l=a.getDay();if(n&&l===r)return e;let s=o?1:-1;return m(l);function m(c){return c!==r?m(a.add(`${s} days`).getDay()):a}}function E(e){e.localeInfo||(e.localeInfo=$());let{locale:t,timeZone:o}=e.localeInfo;return new Date(e).toLocaleString(t,{timeZone:o})}function X(e,t){let o={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",o))}function C(e,{year:t,month:o,date:n}={}){return N(t)&&e.setFullYear(t),N(n)&&e.setDate(n),N(o)&&e.setMonth(o-1),!0}function M(e,{hours:t,minutes:o,seconds:n,milliseconds:r}={}){switch(!0){case N(t):e.setHours(t);break;case N(o):e.setMinutes(o);break;case N(n):e.setSeconds(n);break;case N(r):e.setMilliseconds(r);break}return!0}function ce(e,t){return t=t&&new Date(t)||e.value,b(t,e.localeInfo)}function Ze(){let e={short:"sun,mon,tue,wed,thu,fri,sat".split(","),long:"sunday,monday,tuesday,wednesday,thursday,friday,saturday".split(",")};return function(t){if(!t)return-1;let o=e.short.indexOf(t);return o<0?e.long.indexOf(t):o}}function ee(e){return Number(e.split(/[+-]/).slice(-1)[0].replace(/:/,""))}function ie(e){return e=e||b(),b(new Date(e.year,e.month,e.date.date))}function me(e){let t=e.timeZone,o=new Date(e.year,0,1,14),n=new Date(new Date(o).setMonth(6)),r=Intl.DateTimeFormat("en-CA",{year:"numeric",timeZone:t,timeZoneName:"shortOffset"}),[a,l]=[ee(r.format(o)),ee(r.format(n))];return a-l!==0}function fe(e){if(e.hasDST){let t=e.clone();return t.month=1,t.date=1,t.format("tz",`${t.localeInfo.formatOptions},tzn:shortOffset`)!==e.format("tz",`${e.localeInfo.formatOptions},tzn:shortOffset`)}return!1}function de(e,{locale:t,timeZone:o}={}){return e.localeInfo=T({locale:t||e.locale,timeZone:o||e.timeZone}),e}function ge(e,t){return t?.constructor!==Date?e:b(t,t.localeInfo||e.localeInfo)}function N(e){return!(Number.isNaN(parseInt(e))&&Number.isNaN(+e))}function Y(e,t){let o=H(new Date(e,11,t));return o===1?Y(e,t-1):o}function R(e,t){let o=e.month;switch(!0){case o<3:return t?1:"First";case o<6:return t?2:"Second";case o<9:return t?3:"Third";case o<12:return t?4:"Fourth"}}function H(e){let t=new Date(e),o=(t.getDay()+6)%7;t.setDate(t.getDate()-o+3);let n=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((n-t)/6048e5)}function ye(e,t="ymd"){if(e=e?.trim(),!e)return new Date;let o=e?.split(/[T :\-\/.,]/g).filter(a=>!!a.trim()),n=()=>{let a=[...t].reduce((y,d,Z)=>(y[d]=Z,y),{}),l=o.slice(0,3),s=o.slice(3);/PM/.test(s.slice(-1))&&(s[0]=+s[0]+12);let[m,c,h,g,u,f,i]=[+l[a.y],+l[a.m]-1,+l[a.d]].concat([...Array(4)].map((y,d)=>+s[d]||0));return m<1900?new Date(new Date(m,c,h,g,u,f,i).setFullYear(m)):new Date(m,c,h,g,u,f,i)},r={get cando(){return n()},get cannot(){if(!e||o?.length<3)return console.error(`DateTools::parse: can't convert "${e||"empty date string"}" to ES-Date. Result will be current Date`),!0}};return r.cannot?new Date:r.cando}function Ne(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(o=>o).join(",")}function z(e="en-GB"){return e=T({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function F(e="en-GB"){return e=T({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function T({locale:e,timeZone:t,logError:o=!0}={}){let n=r=>console.error(`invalid locale (time zone: "${r.timeZone}", locale: "${r.locale}"), associated your locale instead`);try{return Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions()}catch{return o&&n({locale:e,timeZone:t}),Intl.DateTimeFormat().resolvedOptions()}}function $({locale:e,timeZone:t}={}){let o=T({locale:e,timeZone:t},!0);return Object.freeze({...o,formatOptions:Ne(o.locale,o.timeZone)})}function _(e){return!Number.isNaN(+e)&&e||new Date}function he(e){let t=new Date;switch(!0){case e?.constructor===String:return _(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return _(new Date(...e));case e?.constructor===Date:return _(e);default:return t}}function q(e,t){let o={addYears(n=1){let r=e.clone();return D(r,`${n} years`)},addMonths(n=1){let r=e.clone();return D(r,`${n} months`)},addWeeks(n=1){let r=e.clone();return D(r,`${n*7} days`)},addDays(n=1){let r=e.clone();return D(r,`${n} days`)},get nextYear(){let n=e.clone();return D(n,"1 year")},get nextWeek(){let n=e.clone();return D(n,"7 days")},get previousWeek(){let n=e.clone();return D(n,"-7 days")},get previousYear(){let n=e.clone();return D(n,"-1 year")},get nextMonth(){let n=e.clone();return D(n,"1 month")},get previousMonth(){let n=e.clone();return D(n,"-1 month")},get tomorrow(){let n=e.clone();return D(n,"1 day")},get yesterday(){let n=e.clone();return D(n,"-1 day")}};return Object.keys(t||{}).length>0&&Object.entries(t).forEach(([n,r])=>Object.defineProperty(o,n,{value(...a){return r.method(e,...a)},enumerable:r.enumerable})),o}var A=$e;function $e({instance:e,localeInfo:t}={}){let o=T(),n={format(r,a){return re(e,r,a)},daysUntil(r){return oe(e,r)},revalue(r){return e=ge(e,r),e},firstWeekday({sunday:r=!1,midnight:a=!1}={}){return ae(e,{sunday:r,midnight:a})},next(r){return I(e,{day:r,next:!0})},previous(r){return I(e,{day:r})},add(...r){return P(e,...r)},subtract(...r){return P(e,...["subtract"].concat(r))},clone(r){return ce(e,r)},differenceTo(r){return j({start:e,end:r})},relocate({locale:r,timeZone:a}={}){return de(e,{locale:r,timeZone:a})},offsetFrom(r){return W(e,r)},between({start:r,end:a,include:l}={}){return v(e,{start:r,end:a,include:l})},isPast(r){return v(e,{start:r,before:!0})},isFuture(r){return v(e,{start:r,before:!1})},toString(){return le(e)},set localeInfo({locale:r,timeZone:a}){t=$({locale:r,timeZone:a,validate:!0})},set year(r){return C(e,{year:r})},set month(r){return C(e,{month:r})},set hours(r){return M(e,{hours:r})},set minutes(r){return M(e,{minutes:r})},set seconds(r){return M(e,{seconds:r})},set milliseconds(r){return M(e,{milliseconds:`${r}`})},set time({hours:r,minutes:a,seconds:l,milliseconds:s}={}){return M(e,{hours:r,minutes:a,seconds:l,milliseconds:s})},set date({year:r,month:a,date:l}={}){return C(e,{year:r,month:a,date:l})},get age(){return e.differenceTo(new Date).years},get ageParts(){return e.differenceTo(new Date).full},get localeString(){return E(e)},get userLocaleInfo(){return o},get local(){return E(e)},get ISO(){return e.toISOString()},get isLeapYear(){return new Date(e.getFullYear(),2,0).getDate()===29},get names(){return ne(e)},get daysThisMonth(){return se(e)},get localeInfo(){return t},get timeZone(){return(t||$()).timeZone},get locale(){return(t||$()).locale},get year(){return e.getFullYear()},get month(){return e.date.month},get dateSingle(){return e.date.date},get hours(){return e.time.hours},get minutes(){return e.time.minutes},get seconds(){return e.time.seconds},get milliseconds(){return e.getMilliseconds()},get removeTime(){return ie(e)},get time(){return U(e)},get zoneTime(){return U(e,!0)},get timeValues(){return O(e)},get zoneTimeValues(){return O(e,!0)},get dateValues(){return L(e,!1)},get zoneDateValues(){return L(e,!0)},get dateTimeValues(){return V(e,!0)},get zoneDateTimeValues(){return V(e,!1)},get date(){return x(e,!0)},get zoneDate(){return x(e)},get dateTime(){return Object.freeze({...e.date,...e.time})},get zoneDateTime(){return{...e.zoneDate,...e.zoneTime}},get UTC(){return e.clone().relocate({locale:e.locale,timeZone:"Etc/UTC"})},get UTCOffset(){return W(e)},get day(){return e.getDay()},get dayName(){return e.names.dayName},get weeknr(){return H(e)},get weeksInYear(){return Y(e.year,31)},get weekDay(){return e.names.dayName},get monthName(){return e.names.monthName},get quarter(){return R(e)},get quarterNr(){return R(e,!0)},get hasDST(){return me(e)},get DSTActive(){return fe(e)},get value(){return new Date(e)},get info(){return ue(e)}};return Object.defineProperties(n,{proxy:{value(r,a){return e=new Proxy(r,a),e},enumerable:!1},addAggregates:{value(r,a){Object.entries(Object.getOwnPropertyDescriptors(a)).forEach(([l,s])=>Object.defineProperty(n,l,s))},enumerable:!1}}),n}Symbol.esdProxy=Symbol.for("esdProxy");function De(e){return{get(t,o){if(o!=="toString"){if(o in t&&t[o]?.constructor===Function)return(...n)=>t[o](...n);if(o in t)return t[o]}if(o in e)return e[o]},set(t,o,n){return typeof o!="symbol"&&o in e?(e[o]=n,!0):(t[o]=n,!0)},has:(t,o)=>o in e||o in t}}var b=Me();function Me(){let e={};return o(t);function t(n,r){let a=n?.locale||n?.timeZone?new Date:he(n),l=A();l.localeInfo=n?.locale||n?.timeZone?T(n):T(r);let s=l.proxy(new Date(a),De(l)),m=q(s,e);return s.addAggregates(s,m),Object.freeze(s)}function o(n){return Object.defineProperties(n,{now:{get(){return n(new Date)}},parse:{value(r,a="ymd"){return n(ye(r,a))}},localWeekdayNames:{value(r){return z(r)}},localMonthNames:{value(r){return F(r)}},daysInMonth:{value(r){return r>=1&&r<=12?new Date(1970,r,0).getDate():`${r} not between 1 and 12`}},addMethod:{value(r,a,l=!1){e[r]={method:a,enumerable:l}}},keys:{get(){return[...Object.keys(A()),...Object.keys(q())].sort((a,l)=>a.localeCompare(l))}}}),n}}export{b as default};
