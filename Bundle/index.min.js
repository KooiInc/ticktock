function ge(e,t="ymd"){if(e=e?.trim(),!e)return new Date;let r=e?.split(/[T :\-\/.,]/g).filter(n=>!!n.trim()),a=()=>{let n=[...t].reduce((y,m,M)=>(y[m]=M,y),{}),l=r.slice(0,3),c=r.slice(3),[g,s,D,d,u,f,i]=[+l[n.y],+l[n.m]-1,+l[n.d]].concat([...Array(4)].map((y,m)=>+c[m]||0));return g<1900?new Date(new Date(g,s,D,d,u,f,i).setFullYear(g)):new Date(g,s,D,d,u,f,i)},o={get cando(){return a()},get cannot(){if(!e||r?.length<3)return console.error(`DateTools::parse: can't convert "${e||"empty date string"}" to ES-Date. Result will be current Date`),!0}};return o.cannot?new Date:o.cando}function ye(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(r=>r).join(",")}function $(e="en-GB"){return e=N({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function k(e="en-GB"){return e=N({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function N({locale:e,timeZone:t,logError:r=!0}={}){let a=o=>console.error(`invalid locale (time zone: "${o.timeZone}", locale: "${o.locale}"), associated your locale instead`);try{return Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions()}catch{return r&&a({locale:e,timeZone:t}),Intl.DateTimeFormat().resolvedOptions()}}function S({locale:e,timeZone:t}={}){let r=N({locale:e,timeZone:t},!0);return Object.freeze({...r,formatOptions:ye(r.locale,r.timeZone)})}function H(e){return Object.defineProperties(e,{clone:{value:function(r){return r?.clone()||e()}},now:{get(){return e()}},parse:{value(t,r="ymd"){return e(ge(t,r))}},localWeekdayNames:{value({locale:t,format:r}={}){return $(t,r)}},localMonthNames:{value({locale:t,format:r}={}){return k(t,r)}},daysInMonth:{value(t){return t>=1&&t<=12?new Date(1970,t,0).getDate():`${t} not between 1 and 12`}}}),e}function F(e){return!Number.isNaN(+e)&&e||new Date}function R(e){let t=new Date;switch(!0){case e?.constructor===String:return F(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return F(new Date(...e));case e?.constructor===Date:return F(e);default:return t}}var _=De();function De(){let[e,t,r,a]=["2-digit","numeric","long","short"],o={fixed:{MM:{month:r},M:{month:a},m:{month:t},mm:{month:e},yyyy:{year:t},yy:{year:e},WD:{weekday:r},wd:{weekday:a},d:{day:t},dd:{day:e},h:{hour:t},hh:{hour:e},mi:{minute:t},mmi:{minute:e},s:{second:t},ss:{second:e},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:u=>({timeZoneName:u.slice(4)}),hrc:u=>({hourCycle:`h${u.slice(4)}`}),ds:u=>({dateStyle:u.slice(3)}),ts:u=>({timeStyle:u.slice(3)}),tz:u=>({timeZone:u.slice(3)}),e:u=>({era:u.slice(2)}),l:u=>({locale:u.slice(2)})}},n={...o,retrieveDyn(u){let f=u?.slice(0,u.indexOf(":"));return o.dynamic[f]&&o.dynamic[f](u)},get re(){return new RegExp(`\\b(${Object.keys(o.fixed).join("|")})\\b`,"g")}},l=(u="dtf",f=0)=>{let i=` ${u.replace(/(?<=\{)(.+?)(?=})/g,m=>`[${f++}]`).replace(/[{}]/g,"").trim()} `,y=u.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return y},formatString(m){i=m},set formatStr(m){i=m},get formatStr(){return i},get units(){return i.match(n.re)||[]},finalize(m="",M="",b="",T=""){return i.replace(/~([\d+]?)/g,"$1").replace(/dtf/,m).replace(/era/,b).replace(/dp\b|~dp\b/,M).replace(/yn\b/,T).replace(/\[(\d+?)]/g,(w,de)=>y[de].trim()).trim()}}},c=u=>u.replace(/\s+/g,""),g=(...u)=>u?.reduce((f,i)=>({...f,...n.retrieveDyn(i)||n.fixed[i]}),n.fixed.dl),s=(u,f,i)=>{let y=g(...c(i).split(",")),m=Intl.DateTimeFormat(y.locale,y).format(u);return f.finalize(m)},D=(u,f,i,y)=>u.toLocaleString(f,{timeZone:i,month:y?a:r}),d=(u,f,i)=>{let y=g(...f.units.concat(c(i).split(",")).flat()),m={...n.fixed},M=(T,w)=>y[T]==="numeric"&&w.startsWith("0")?w.slice(1):w,b=Intl.DateTimeFormat(y.locale,y).formatToParts(u).reduce((T,w)=>w.type==="literal"&&/[ ,/-]/.test(w.value)?T:{...T,[w.type]:M(w.type,w.value)},{});return m.ms=y.fractionalSecondDigits?m.msp:m.ms,m.yyyy=b.relatedYear?m.ry:m.yyyy,f.formatStr=f.formatStr.replace(n.re,T=>/^(M|MM)$/.test(T)?D(u,y.locale,y.timeZone,/^M$/.test(T)):b[Object.keys(m[T]).shift()]||T),f.finalize(void 0,b.dayPeriod,b.era,b.yearName)};return(u,f,i="l:default")=>/ds:|ts:/.test(i)?s(u,l(void 0),i):d(u,l(f||void 0),i)}var B=he;function he(){let e=(a,o)=>{let n=isNaN(new Date(a)),l=isNaN(new Date(o));if(l){let[c,g,s]=Array(3).fill("end date not valid");return{error:!0,message:c,full:g,clean:s}}if(n){let[c,g,s]=Array(3).fill("start date not valid");return{error:!0,message:c,full:g,clean:s}}if(n&&!l){let[c,g,s]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:c,full:g,clean:s}}return{error:!1}},t=r();return function({start:o,end:n,diffs:l={}}={}){let c=e(o,n);if(c.error)return c;let g=o-n,s=g===0?"":g<0?"-":"+",D=Math.abs(o-n),d=new Date(D),u=d.getUTCFullYear()-1970,f=d.getUTCMonth(),i=d.getUTCDate()-1,y=d.getUTCHours(),m=d.getUTCMinutes(),M=d.getUTCSeconds(),b=d.getUTCMilliseconds(),T=Math.floor(D/1e3/60/1440);return l={...l,fromUTC:o,toUTC:n,sign:s,years:u,months:f,days:i,hours:y,minutes:m,seconds:M,milliseconds:b,diffInDays:T},l.full=t({values:l,full:!0}),l.clean=t({values:l}),l};function r(){let a=(...s)=>D=>s.reduce((d,u)=>u(d),D),o=(s,D)=>s===1?D.slice(0,-1):D;return a(({values:s,full:D})=>[Object.entries(s).filter(([d])=>/^(years|month|days|hours|minutes|seconds)/i.test(d)),D],([s,D])=>D?s:s.filter(([,d])=>D?+d:d>0),s=>s.reduce((D,[d,u])=>[...D,`${u} ${o(u,d)}`],[]),s=>s.length<1?"Dates are equal":`${s.slice(0,-1).join(", ")}${s.length>1?" and ":""}${s.slice(-1).shift()}`)}}var G=pe;function pe(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((r,[a,o])=>({...r,[a]:o,[`${a}s`]:o}),{}),t=function(...r){let a=r.length===1,o=r[0].trim().startsWith("subtract");return o&&(r=a?r[0].trim().replace(/^subtract./i,"").split(", ").map(n=>n.trim()):r.slice(1)),a&&!o&&(r=r[0].split(",").map(n=>n.trim())),r.map(function(n){return n?n.toLowerCase().split(/ /).map(l=>{l=`${l}`.trim();let c=parseInt(l,10);return c?o?-c:+c:l}):!1}).filter(n=>n)};return function(r,...a){if(a.length<1)return r;let o=t(...a);return o.length&&o.forEach(([n,l])=>{l=e[l],+n&&l&&r[`set${l}`](r[`get${l}`]()+ +n)}),r}}var K=B(),Te=be(),h=G();function C(e,{start:t,end:r,before:a}={}){let o=e.clone().UTC;return t=p(t).UTC,!Number.isNaN(+t)&&!r?a?+o<+t:+o>+t:(r=p(r).UTC,+o>+t&&+o<+r)}function ee(e,t,r){return e.localeInfo||(e.localeInfo=S()),r=r||e.localeInfo.formatOptions,_(new Date(e),t,r)}function we(e,t){return{first:p(e||new Date).removeTime,second:p(t||new Date).removeTime}}function te(e,t){let{first:r,second:a}=we(e,t),o=K({start:r,end:a}).diffInDays;return o>0&&+t<+e?-o:o}function re(e){let{locale:t,timeZone:r,formats:a}=e.localeInfo,o=e.format("MM|WD",a).split("|");return{locale:t,timeZone:r,monthName:o[0],dayName:o[1],dayNames:$(e.locale),monthNames:k(e.locale)}}function x(e,t=!1){let[r,a,o,n]=A(e,t);return Object.freeze({hours:r,minutes:a,seconds:o,milliseconds:n})}function A(e,t=!1){let a=`l:en-CA${t?`,tz:${e.timeZone}`:""},hrc:23`;return e.format("hh-mmi-ss",a).split(/-/).map(Number).concat(e.getMilliseconds())}function oe(e){let[t,r,a]=z(e);return Object.freeze({year:t,month:r,date:a})}function ne(e,{sunday:t=!1,midnight:r=!1}={}){return I(e,{day:t?"sun":"mon",midnight:r,forFirstWeekday:!0})}function z(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let r=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return r[1]-=1,r}function U({start:e,end:t}={}){return t?.isTT||(t=p(t,{timeZone:e.timeZone})),t||(t=e.clone()),e=p(J(e,e.timeZone),{timeZone:e.timeZone}),t=p(J(t,t.timeZone),{timeZone:t.timeZone}),K({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}})}function L(e,t){let r=e.clone();t instanceof Date&&!t?.isTT&&(t=p(r,{timeZone:"Etc/UTC"})),t||(t=r.clone().relocate({timeZone:"Etc/UTC"})),t=t.revalue(r.value);let a=U({start:r,end:t});return`${a.sign}${Q(a.hours)}:${Q(a.minutes)}`}function Q(e,t=2){return`${e}`.padStart(t,"0")}function P(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let r=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return r[1]-=1,r}function W(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function I(e,{day:t,next:r=!1,forFirstWeekday:a=!1}={}){let o=Te(t?.toLowerCase()),n=p(new Date(...e.dateValues),e.localeInfo);if(o<0)return n;let l=n.getDay();if(a&&l===o)return e;let c=r?1:-1;return g(l);function g(s){return s!==o?g(n.add(`${c} days`).getDay()):n}}function j(e){e.localeInfo||(e.localeInfo=S());let{locale:t,timeZone:r}=e.localeInfo;return new Date(e).toLocaleString(t,{timeZone:r})}function J(e,t){let r={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",r))}function v(e,{year:t,month:r,date:a}={}){return Z(t)&&e.setFullYear(t),Z(a)&&e.setDate(a),Z(r)&&e.setMonth(r-1),!0}function O(e,{hours:t,minutes:r,seconds:a,milliseconds:o}={}){switch(!0){case Z(t):e.setHours(t);break;case Z(r):e.setMinutes(r);break;case Z(a):return e.setSeconds(a);case Z(o):e.setMilliseconds(o);break;default:break}return!0}function ae(e,t){return t=new Date(t),t=isNaN(t)?new Date:t,p(t,e.localeInfo)}function be(){let e={short:"sun,mon,tue,wed,thu,fri,sat".split(","),long:"sunday,monday,tuesday,wednesday,thursday,friday,saturday".split(",")};return function(t){if(!t)return-1;let r=e.short.indexOf(t);return r<0?e.long.indexOf(t):r}}function ue(e){return{addYears(t=1){let r=e.clone();return h(r,`${t} years`),r},addMonths(t=1){let r=e.clone();return h(r,`${t} months`),r},addWeeks(t=1){let r=e.clone();return h(r,`${t*7} days`),r},addDays(t=1){let r=e.clone();return h(r,`${t} days`),r},get nextYear(){let t=e.clone();return h(t,"1 year"),t},get nextWeek(){let t=e.clone();return h(t,"7 days"),t},get previousWeek(){let t=e.clone();return h(t,"subtract, 7 days"),t},get previousYear(){let t=e.clone();return h(t,"subtract, 1 year"),t},get nextMonth(){let t=e.clone();return h(t,"1 month"),t},get previousMonth(){let t=e.clone();return h(t,"subtract, 1 month"),t},get tomorrow(){let t=e.clone();return h(t,"1 day"),t},get yesterday(){let t=e.clone();return h(t,"subtract, 1 day"),t}}}function X(e){return+e.slice(e.indexOf("+")+1).replace(":","")||0}function le(e){return e=e||p(),p(new Date(e.year,e.month,e.date.date))}function se(e){let t=e.timeZone,r=new Date(e.year,0,1,14),a=new Date(new Date(r).setMonth(6)),o=Intl.DateTimeFormat("en-CA",{year:"numeric",timeZone:t,timeZoneName:"shortOffset"}),[n,l]=[o.format(r),o.format(a)];return X(n)-X(l)!==0}function ce(e){if(e.hasDST){let t=e.clone();return t.month=1,t.date=1,t.format("tz",`${t.localeInfo.formatOptions},tzn:shortOffset`)!==e.format("tz",`${e.localeInfo.formatOptions},tzn:shortOffset`)}return!1}function ie(e,{locale:t,timeZone:r}={}){return e.localeInfo=N({locale:t||e.locale,timeZone:r||e.timeZone}),e}function fe(e,t){return t?.constructor!==Date?e:p(t,t.localeInfo||e.localeInfo)}function Z(e){return!(Number.isNaN(parseInt(e))&&Number.isNaN(+e))}function Y(e,t){let r=V(new Date(e,11,t));return r===1?Y(e,t-1):r}function E(e,t){let r=e.month;switch(!0){case r<3:return t?1:"First";case r<6:return t?2:"Second";case r<9:return t?3:"Third";case r<12:return t?4:"Fourth"}}function V(e){let t=new Date(e),r=(t.getDay()+6)%7;t.setDate(t.getDate()-r+3);let a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)}var q=Ne;function Ne({instance:e,localeFormats:t,localeInfo:r}={}){let a={format(o,n){return ee(e,o,n)},daysUntil(o){return te(e,o)},revalue(o){return e=fe(e,o),e},firstWeekday({sunday:o=!1,midnight:n=!1}={}){return ne(e,{sunday:o,midnight:n})},next(o){return I(e,{day:o,next:!0})},previous(o){return I(e,{day:o})},add(...o){return h(e,...o),e.clone()},subtract(...o){return h(e,...["subtract"].concat(o)),e.clone()},clone(o){return ae(e,o)},differenceTo(o){return U({start:e,end:o})},relocate({locale:o,timeZone:n}={}){return ie(e,{locale:o,timeZone:n})},offsetFrom(o){return L(e,o)},between(o,n){return C(e,{start:o,end:n})},isPast(o){return C(e,{start:o,before:!0})},isFuture(o){return C(e,{start:o,before:!1})},DTLocalValues(){return P(e,!0)},set localeInfo({locale:o,timeZone:n}){r=S({locale:o,timeZone:n,validate:!0})},set year(o){return v(e,{year:o})},set month(o){return v(e,{month:o})},set hours(o){return O(e,{hours:o})},set minutes(o){return O(e,{minutes:o})},set seconds(o){return O(e,{seconds:o})},set milliseconds(o){return O(e,{milliseconds:`${o}`})},set time({hours:o,minutes:n,seconds:l,milliseconds:c}={}){return O(e,{hours:o,minutes:n,seconds:l,milliseconds:c})},set date({year:o,month:n,date:l}={}){return v(e,{year:o,month:n,date:l})},get age(){return e.differenceTo(new Date).years},get ageParts(){return e.differenceTo(new Date).full},get localeString(){return j(e)},get local(){return j(e)},get ISO(){return e.toISOString()},get isLeapYear(){return new Date(e.getFullYear(),2,0).getDate()===29},get names(){return re(e)},get daysInMonth(){return W(e)},get daysThisMonth(){return W(e)},get localeInfo(){return r},get timeZone(){return(r||S()).timeZone},get locale(){return(r||S()).locale},get formatStr(){return t},get year(){return e.getFullYear()},get month(){return e.date.month},get dateSingle(){return e.date.date},get hours(){return e.time.hours},get minutes(){return e.time.minutes},get seconds(){return e.time.seconds},get milliseconds(){return e.getMilliseconds()},get removeTime(){return le(e)},get time(){return x(e)},get zoneTime(){return x(e,!0)},get timeValues(){return A(e)},get dateValues(){return z(e)},get dateTimeValues(){return P(e)},get date(){return oe(e)},get dateTime(){return Object.freeze({...e.date,...e.time})},get UTC(){return e.clone().relocate({locale:e.locale,timeZone:"Etc/UTC"})},get UTCOffset(){return L(e)},get day(){return e.getDay()},get dayName(){return e.names.dayName},get weeknr(){return V(e)},get weeksInYear(){return Y(e.year,31)},get weekDay(){return e.names.dayName},get monthName(){return e.names.monthName},get quarter(){return E(e)},get quarterNr(){return E(e,!0)},get hasDST(){return se(e)},get DSTActive(){return ce(e)},get value(){return new Date(e)}};return Object.defineProperties(a,{isTT:{get(){return!0},enumerable:!0},proxy:{value(o,n){return e=new Proxy(o,n),e},enumerable:!1},keys:{get(){return Object.keys(a).sort((o,n)=>o.localeCompare(n))},enumerable:!0},addAggregates:{value(o){let n=ue(o);Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([l,c])=>Object.defineProperty(a,l,c))},enumerable:!1}}),a}Symbol.esdProxy=Symbol.for("esdProxy");function me(e){return{get(t,r){return r in t&&t[r]?.constructor===Function?(...a)=>t[r](...a):r in t?t[r]:r in e?e[r]:!0},set(t,r,a){return typeof r!="symbol"&&r in e?(e[r]=a,a||!0):Reflect.set(...arguments)},has:(t,r)=>r in e||r in t}}var p=Me();function Me(){return H(e);function e(t,r){let a=t?.locale||t?.timeZone?new Date:R(t),o=q();o.localeInfo=t?.locale||t?.timeZone?N(t):N(r);let n=o.proxy(new Date(a),me(o));return n.addAggregates(n),Object.freeze(n)}}export{p as default};
