var G=Te();function Te(){let[e,t,r,n]=["2-digit","numeric","long","short"],a={fixed:{MM:{month:r},M:{month:n},m:{month:t},mm:{month:e},yyyy:{year:t},yy:{year:e},WD:{weekday:r},wd:{weekday:n},d:{day:t},dd:{day:e},h:{hour:t},hh:{hour:e},mi:{minute:t},mmi:{minute:e},s:{second:t},ss:{second:e},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:u=>({timeZoneName:u.slice(4)}),hrc:u=>({hourCycle:`h${u.slice(4)}`}),ds:u=>({dateStyle:u.slice(3)}),ts:u=>({timeStyle:u.slice(3)}),tz:u=>({timeZone:u.slice(3)}),e:u=>({era:u.slice(2)}),l:u=>({locale:u.slice(2)})}},o={...a,retrieveDyn(u){let f=u?.slice(0,u.indexOf(":"));return a.dynamic[f]&&a.dynamic[f](u)},get re(){return new RegExp(`\\b(${Object.keys(a.fixed).join("|")})\\b`,"g")}},l=(u="dtf",f=0)=>{let m=` ${u.replace(/(?<=\{)(.+?)(?=})/g,d=>`[${f++}]`).replace(/[{}]/g,"").trim()} `,y=u.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return y},formatString(d){m=d},set formatStr(d){m=d},get formatStr(){return m},get units(){return m.match(o.re)||[]},finalize(d="",Z="",w="",p=""){return m.replace(/~([\d+]?)/g,"$1").replace(/dtf/,d).replace(/era/,w).replace(/dp\b|~dp\b/,Z).replace(/yn\b/,p).replace(/\[(\d+?)]/g,(b,pe)=>y[pe].trim()).trim()}}},s=u=>u.replace(/\s+/g,""),i=(...u)=>u?.reduce((f,m)=>({...f,...o.retrieveDyn(m)||o.fixed[m]}),o.fixed.dl),c=(u,f,m)=>{let y=i(...s(m).split(",")),d=Intl.DateTimeFormat(y.locale,y).format(u);return f.finalize(d)},h=(u,f,m,y)=>u.toLocaleString(f,{timeZone:m,month:y?n:r}),g=(u,f,m)=>{let y=i(...f.units.concat(s(m).split(",")).flat()),d={...o.fixed},Z=(p,b)=>y[p]==="numeric"&&b.startsWith("0")?b.slice(1):b,w=Intl.DateTimeFormat(y.locale,y).formatToParts(u).reduce((p,b)=>b.type==="literal"&&/[ ,/-]/.test(b.value)?p:{...p,[b.type]:Z(b.type,b.value)},{});return d.ms=y.fractionalSecondDigits?d.msp:d.ms,d.yyyy=w.relatedYear?d.ry:d.yyyy,f.formatStr=f.formatStr.replace(o.re,p=>/^(M|MM)$/.test(p)?h(u,y.locale,y.timeZone,/^M$/.test(p)):w[Object.keys(d[p]).shift()]||p),f.finalize(void 0,w.dayPeriod,w.era,w.yearName)};return(u,f,m="l:default")=>/ds:|ts:/.test(m)?c(u,l(void 0),m):g(u,l(f||void 0),m)}var J=Se;function Se(){let e=(n,a)=>{let o=isNaN(new Date(n)),l=isNaN(new Date(a));if(l){let[s,i,c]=Array(3).fill("end date not valid");return{error:!0,message:s,full:i,clean:c}}if(o){let[s,i,c]=Array(3).fill("start date not valid");return{error:!0,message:s,full:i,clean:c}}if(o&&!l){let[s,i,c]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:s,full:i,clean:c}}return{error:!1}},t=r();return function({start:a,end:o,diffs:l={}}={}){let s=e(a,o);if(s.error)return s;let i=a-o,c=i===0?"":i<0?"-":"+",h=Math.abs(a-o),g=new Date(h),u=g.getUTCFullYear()-1970,f=g.getUTCMonth(),m=g.getUTCDate()-1,y=g.getUTCHours(),d=g.getUTCMinutes(),Z=g.getUTCSeconds(),w=g.getUTCMilliseconds(),p=Math.floor(h/1e3/60/1440);return l={...l,fromUTC:a,toUTC:o,sign:c,years:u,months:f,days:m,hours:y,minutes:d,seconds:Z,milliseconds:w,diffInDays:p},l.full=t({values:l,full:!0}),l.clean=t({values:l}),l};function r(){let n=(...c)=>h=>c.reduce((g,u)=>u(g),h),a=(c,h)=>c===1?h.slice(0,-1):h;return n(({values:c,full:h})=>[Object.entries(c).filter(([g])=>/^(years|month|days|hours|minutes|seconds)/i.test(g)),h],([c,h])=>h?c:c.filter(([,g])=>h?+g:g>0),c=>c.reduce((h,[g,u])=>[...h,`${u} ${a(u,g)}`],[]),c=>c.length<1?"Dates are equal":`${c.slice(0,-1).join(", ")}${c.length>1?" and ":""}${c.slice(-1).shift()}`)}}var B=be;function be(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((r,[n,a])=>({...r,[n]:a,[`${n}s`]:a}),{}),t=function(...r){let n=r.length===1,a=r[0].trim().startsWith("subtract");return a&&(r=n?r[0].trim().replace(/^subtract./i,"").split(", ").map(o=>o.trim()):r.slice(1)),n&&!a&&(r=r[0].split(",").map(o=>o.trim())),r.map(function(o){return o?o.toLowerCase().split(/ /).map(l=>{l=`${l}`.trim();let s=parseInt(l,10);return s?a?-s:+s:l}):!1}).filter(o=>o)};return function(r,...n){if(n.length<1)return r;let a=t(...n);return a.length&&a.forEach(([o,l])=>{l=e[l],+o&&l&&r[`set${l}`](r[`get${l}`]()+ +o)}),r}}var te=J(),we=Ze(),D=B();function P(e,t){let r=e.clone();return D(r,t),r}function M(e,{start:t,end:r,before:n,include:a={start:!1,end:!1}}={}){let o=e.clone().UTC;return t=S(t).UTC,!Number.isNaN(+t)&&!r?n?+o<+t:+o>+t:(r=S(r).UTC,(a.start?+o>=+t:+o>+t)&&(a.end?+o<=+r:+o<+r))}function re(e,t,r){return e.localeInfo||(e.localeInfo=$()),r=r||e.localeInfo.formatOptions,G(new Date(e),t,r)}function oe(e,t){let r=te({start:e,end:t||e});return r.sign==="-"?-r.diffInDays:r.diffInDays}function ne(e){let{locale:t,timeZone:r,formats:n}=e.localeInfo,a=e.format("MM|WD",n).split("|");return{locale:t,timeZone:r,monthName:a[0],dayName:a[1],dayNames:z(e.locale),monthNames:F(e.locale)}}function U(e,t=!1){let[r,n,a,o]=O(e,t),s={values4Timezone:t?e.timeZone:T().timeZone,hours:r,minutes:n,seconds:a,milliseconds:o};return Object.freeze(s)}function O(e,t=!1){let n=`l:en-CA${t?`,tz:${e.timeZone}`:""},hrc:23`;return e.format("hh-mmi-ss",n).split(/-/).map(Number).concat(e.getMilliseconds())}function x(e,t){let r=t?`tz:${T().timeZone}`:`,tz:${e.timeZone}`,[n,a,o]=e.format("yyyy-mm-dd",r).split(/-/).map(Number);a-=1;let l=t?e.timeZone:T().timeZone;return Object.freeze({values4Timezone:l,year:n,month:a,date:o})}function L(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let r=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return r[1]-=1,r}function ae(e,{sunday:t=!1,midnight:r=!1}={}){return I(e,{day:t?"sun":"mon",midnight:r,forFirstWeekday:!0})}function j({start:e,end:t}={}){return t?.isTT||(t=S(t,{timeZone:e.timeZone})),t||(t=e.clone()),e=S(X(e,e.timeZone),{timeZone:e.timeZone}),t=S(X(t,t.timeZone),{timeZone:t.timeZone}),te({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}})}function W(e,t){let r=e.clone();t instanceof Date&&!t?.isTT&&(t=S(r,{timeZone:"Etc/UTC"})),t||(t=r.clone().relocate({timeZone:"Etc/UTC"})),t=t.revalue(r.value);let n=j({start:r,end:t});return`${n.sign}${K(n.hours)}:${K(n.minutes)}`}function K(e,t=2){return`${e}`.padStart(t,"0")}function k(e,t){return`${t}${e>1?"s":""}`}function Q(e){if(/00:00/.test(e))return"no time diffence";let t=e.slice(1).split(":").map(Number),[r,n]=t,a=e.at(0)==="+";return n>0?`${r} ${k(r,"hour")} and ${n} ${k(n,"minute")} ${a?"ahead of":"behind"}`:`${r} ${k(r,"hour")} ${a?"ahead of":"behind"}`}function le(e){let t=e.clone().relocate({locale:"en-CA"}),n=`wd M d yyyy hh:mmi:ss ${t.format("tz",t.localeInfo.formatOptions+",tzn:longOffset").replace(":","")} (tz)`;return t.format(n,t.localeInfo.formatOptions+",tzn:long,hrc:23")}function ue(e){let t=e.clone().relocate({locale:e.userLocaleInfo.locale,timeZone:e.userLocaleInfo.timeZone}),r=e.offsetFrom(t),n=e.userLocaleInfo,a=e.localeInfo,o=e.format("hh:mmi:ss dp",`hrc:12,tz:${e.timeZone}`),l=t.format("hh:mmi:ss dp",`hrc:12,tz:${t.timeZone}`);return{note:"'user' are values for your locale/timeZone, 'remote' idem for the instance",locales:{user:{locale:n.locale,timeZone:n.timeZone},remote:{locale:a.locale,timeZone:a.timeZone}},dateTime:{user:{...e.dateTime,monthName:t.monthName,dayName:t.dayName,dayPeriodTime:l,hasDST:t.hasDST,DSTActive:t.DSTActive,string:t.toString()},remote:{...e.zoneDateTime,monthName:e.monthName,dayName:e.dayName,dayPeriodTime:o,hasDST:e.hasDST,DSTActive:e.DSTActive,string:e.toString()}},offset:{fromUserTime:`${e.timeZone} `+Q(r)+` ${t.timeZone}`,fromUTC:`${e.timeZone} `+Q(e.UTCOffset)+" GMT"}}}function V(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let r=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return r[1]-=1,r}function se(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function I(e,{day:t,next:r=!1,forFirstWeekday:n=!1}={}){let a=we(t?.toLowerCase()),o=S(new Date(...e.dateValues),e.localeInfo);if(a<0)return o;let l=o.getDay();if(n&&l===a)return e;let s=r?1:-1;return i(l);function i(c){return c!==a?i(o.add(`${s} days`).getDay()):o}}function E(e){e.localeInfo||(e.localeInfo=$());let{locale:t,timeZone:r}=e.localeInfo;return new Date(e).toLocaleString(t,{timeZone:r})}function X(e,t){let r={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",r))}function C(e,{year:t,month:r,date:n}={}){return N(t)&&e.setFullYear(t),N(n)&&e.setDate(n),N(r)&&e.setMonth(r-1),!0}function v(e,{hours:t,minutes:r,seconds:n,milliseconds:a}={}){switch(!0){case N(t):e.setHours(t);break;case N(r):e.setMinutes(r);break;case N(n):e.setSeconds(n);break;case N(a):e.setMilliseconds(a);break}return!0}function ce(e,t){return t=t&&new Date(t)||e.value,S(t,e.localeInfo)}function Ze(){let e={short:"sun,mon,tue,wed,thu,fri,sat".split(","),long:"sunday,monday,tuesday,wednesday,thursday,friday,saturday".split(",")};return function(t){if(!t)return-1;let r=e.short.indexOf(t);return r<0?e.long.indexOf(t):r}}function ee(e){return+e.slice(e.indexOf("+")+1).replace(":","")||0}function ie(e){return e=e||S(),S(new Date(e.year,e.month,e.date.date))}function me(e){let t=e.timeZone,r=new Date(e.year,0,1,14),n=new Date(new Date(r).setMonth(6)),a=Intl.DateTimeFormat("en-CA",{year:"numeric",timeZone:t,timeZoneName:"shortOffset"}),[o,l]=[a.format(r),a.format(n)];return ee(o)-ee(l)!==0}function fe(e){if(e.hasDST){let t=e.clone();return t.month=1,t.date=1,t.format("tz",`${t.localeInfo.formatOptions},tzn:shortOffset`)!==e.format("tz",`${e.localeInfo.formatOptions},tzn:shortOffset`)}return!1}function de(e,{locale:t,timeZone:r}={}){return e.localeInfo=T({locale:t||e.locale,timeZone:r||e.timeZone}),e}function ge(e,t){return t?.constructor!==Date?e:S(t,t.localeInfo||e.localeInfo)}function N(e){return!(Number.isNaN(parseInt(e))&&Number.isNaN(+e))}function Y(e,t){let r=_(new Date(e,11,t));return r===1?Y(e,t-1):r}function R(e,t){let r=e.month;switch(!0){case r<3:return t?1:"First";case r<6:return t?2:"Second";case r<9:return t?3:"Third";case r<12:return t?4:"Fourth"}}function _(e){let t=new Date(e),r=(t.getDay()+6)%7;t.setDate(t.getDate()-r+3);let n=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((n-t)/6048e5)}function ye(e,t="ymd"){if(e=e?.trim(),!e)return new Date;let r=e?.split(/[T :\-\/.,]/g).filter(o=>!!o.trim()),n=()=>{let o=[...t].reduce((y,d,Z)=>(y[d]=Z,y),{}),l=r.slice(0,3),s=r.slice(3);/PM/.test(s.slice(-1))&&(s[0]=+s[0]+12);let[i,c,h,g,u,f,m]=[+l[o.y],+l[o.m]-1,+l[o.d]].concat([...Array(4)].map((y,d)=>+s[d]||0));return i<1900?new Date(new Date(i,c,h,g,u,f,m).setFullYear(i)):new Date(i,c,h,g,u,f,m)},a={get cando(){return n()},get cannot(){if(!e||r?.length<3)return console.error(`DateTools::parse: can't convert "${e||"empty date string"}" to ES-Date. Result will be current Date`),!0}};return a.cannot?new Date:a.cando}function Ne(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(r=>r).join(",")}function z(e="en-GB"){return e=T({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function F(e="en-GB"){return e=T({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function T({locale:e,timeZone:t,logError:r=!0}={}){let n=a=>console.error(`invalid locale (time zone: "${a.timeZone}", locale: "${a.locale}"), associated your locale instead`);try{return Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions()}catch{return r&&n({locale:e,timeZone:t}),Intl.DateTimeFormat().resolvedOptions()}}function $({locale:e,timeZone:t}={}){let r=T({locale:e,timeZone:t},!0);return Object.freeze({...r,formatOptions:Ne(r.locale,r.timeZone)})}function H(e){return!Number.isNaN(+e)&&e||new Date}function he(e){let t=new Date;switch(!0){case e?.constructor===String:return H(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return H(new Date(...e));case e?.constructor===Date:return H(e);default:return t}}function q(e,t){let r={addYears(n=1){let a=e.clone();return D(a,`${n} years`)},addMonths(n=1){let a=e.clone();return D(a,`${n} months`)},addWeeks(n=1){let a=e.clone();return D(a,`${n*7} days`)},addDays(n=1){let a=e.clone();return D(a,`${n} days`)},get nextYear(){let n=e.clone();return D(n,"1 year")},get nextWeek(){let n=e.clone();return D(n,"7 days")},get previousWeek(){let n=e.clone();return D(n,"-7 days")},get previousYear(){let n=e.clone();return D(n,"-1 year")},get nextMonth(){let n=e.clone();return D(n,"1 month")},get previousMonth(){let n=e.clone();return D(n,"-1 month")},get tomorrow(){let n=e.clone();return D(n,"1 day")},get yesterday(){let n=e.clone();return D(n,"-1 day")}};return Object.keys(t||{}).length>0&&Object.entries(t).forEach(([n,a])=>Object.defineProperty(r,n,{value(...o){return a.method(e,...o)},enumerable:a.enumerable})),r}var A=$e;function $e({instance:e,localeFormats:t,localeInfo:r}={}){let n=T(),a={format(o,l){return re(e,o,l)},daysUntil(o){return oe(e,o)},revalue(o){return e=ge(e,o),e},firstWeekday({sunday:o=!1,midnight:l=!1}={}){return ae(e,{sunday:o,midnight:l})},next(o){return I(e,{day:o,next:!0})},previous(o){return I(e,{day:o})},add(...o){return P(e,...o)},subtract(...o){return P(e,...["subtract"].concat(o))},clone(o){return ce(e,o)},differenceTo(o){return j({start:e,end:o})},relocate({locale:o,timeZone:l}={}){return de(e,{locale:o,timeZone:l})},offsetFrom(o){return W(e,o)},between({start:o,end:l,include:s}={}){return M(e,{start:o,end:l,include:s})},isPast(o){return M(e,{start:o,before:!0})},isFuture(o){return M(e,{start:o,before:!1})},toString(){return le(e)},set localeInfo({locale:o,timeZone:l}){r=$({locale:o,timeZone:l,validate:!0})},set year(o){return C(e,{year:o})},set month(o){return C(e,{month:o})},set hours(o){return v(e,{hours:o})},set minutes(o){return v(e,{minutes:o})},set seconds(o){return v(e,{seconds:o})},set milliseconds(o){return v(e,{milliseconds:`${o}`})},set time({hours:o,minutes:l,seconds:s,milliseconds:i}={}){return v(e,{hours:o,minutes:l,seconds:s,milliseconds:i})},set date({year:o,month:l,date:s}={}){return C(e,{year:o,month:l,date:s})},get age(){return e.differenceTo(new Date).years},get ageParts(){return e.differenceTo(new Date).full},get localeString(){return E(e)},get userLocaleInfo(){return n},get local(){return E(e)},get ISO(){return e.toISOString()},get isLeapYear(){return new Date(e.getFullYear(),2,0).getDate()===29},get names(){return ne(e)},get daysThisMonth(){return se(e)},get localeInfo(){return r},get timeZone(){return(r||$()).timeZone},get locale(){return(r||$()).locale},get formatStr(){return t},get year(){return e.getFullYear()},get month(){return e.date.month},get dateSingle(){return e.date.date},get hours(){return e.time.hours},get minutes(){return e.time.minutes},get seconds(){return e.time.seconds},get milliseconds(){return e.getMilliseconds()},get removeTime(){return ie(e)},get time(){return U(e)},get zoneTime(){return U(e,!0)},get timeValues(){return O(e)},get zoneTimeValues(){return O(e,!0)},get dateValues(){return L(e,!1)},get zoneDateValues(){return L(e,!0)},get dateTimeValues(){return V(e,!0)},get zoneDateTimeValues(){return V(e,!1)},get date(){return x(e,!0)},get zoneDate(){return x(e)},get dateTime(){return Object.freeze({...e.date,...e.time})},get zoneDateTime(){return{...e.zoneDate,...e.zoneTime}},get UTC(){return e.clone().relocate({locale:e.locale,timeZone:"Etc/UTC"})},get UTCOffset(){return W(e)},get day(){return e.getDay()},get dayName(){return e.names.dayName},get weeknr(){return _(e)},get weeksInYear(){return Y(e.year,31)},get weekDay(){return e.names.dayName},get monthName(){return e.names.monthName},get quarter(){return R(e)},get quarterNr(){return R(e,!0)},get hasDST(){return me(e)},get DSTActive(){return fe(e)},get value(){return new Date(e)},get info(){return ue(e)},get isTT(){return!0}};return Object.defineProperties(a,{proxy:{value(o,l){return e=new Proxy(o,l),e},enumerable:!1},addAggregates:{value(o,l){Object.entries(Object.getOwnPropertyDescriptors(l)).forEach(([s,i])=>Object.defineProperty(a,s,i))},enumerable:!1}}),a}Symbol.esdProxy=Symbol.for("esdProxy");function De(e){return{get(t,r){if(r!=="toString"){if(r in t&&t[r]?.constructor===Function)return(...n)=>t[r](...n);if(r in t)return t[r]}if(r in e)return e[r]},set(t,r,n){return typeof r!="symbol"&&r in e?(e[r]=n,!0):Reflect.set(...arguments)},has:(t,r)=>r in e||r in t}}var S=ve();function ve(){let e={};return r(t);function t(n,a){let o=n?.locale||n?.timeZone?new Date:he(n),l=A();l.localeInfo=n?.locale||n?.timeZone?T(n):T(a);let s=l.proxy(new Date(o),De(l)),i=q(s,e);return s.addAggregates(s,i),Object.freeze(s)}function r(n){return Object.defineProperties(n,{now:{get(){return n(new Date)}},parse:{value(a,o="ymd"){return n(ye(a,o))}},localWeekdayNames:{value(a){return z(a)}},localMonthNames:{value(a){return F(a)}},daysInMonth:{value(a){return a>=1&&a<=12?new Date(1970,a,0).getDate():`${a} not between 1 and 12`}},addMethod:{value(a,o,l=!1){e[a]={method:o,enumerable:l}}},keys:{get(){return[...Object.keys(A()),...Object.keys(q())].sort((o,l)=>o.localeCompare(l))}}}),n}}export{S as default};
